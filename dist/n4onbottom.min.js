!function(o){"use strict";o.module("n4OnBottom",[]).directive("n4OnBottom",["$document","$window","$timeout",function(o,t,n){return{restrict:"A",scope:{onBottom:"&n4OnBottom"},compile:function(c,e){return function(c,e,i){var l;i.$observe("onWindowBottom",function(i){/true/i.test(i)?(e.off("scroll"),$(t).on("scroll",function(){n.cancel(l),$(t).scrollTop()+$(t).height()===$(o).height()&&(l=n(c.onBottom,1e3))})):($(t).off("scroll"),e.on("scroll",function(){n.cancel(l),e.scrollTop()+e.innerHeight()>=this.scrollHeight&&(l=n(c.onBottom,1e3))}))}),c.$on("$destroy",function(){e.off("scroll"),$(t).off("scroll")})}}}}])}(angular);